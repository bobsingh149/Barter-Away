{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from \"react\";\nexport default function useHttp() {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(\"\");\n  const [done, setDone] = useState(false);\n  const sendRequest = useCallback(async function (url) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n    let headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      \"Content-Type\": \"application/json\"\n    };\n    let body = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    setLoading(true);\n    let resData;\n\n    try {\n      const res = await fetch(url, {\n        method,\n        headers,\n        body: JSON.stringify(body)\n      });\n      resData = await res.json();\n      setLoading(false);\n\n      if (!res.ok) {\n        throw new Error(resData.message);\n      }\n\n      setDone(true);\n      return resData;\n    } catch (err) {\n      setLoading(false);\n      setError(err.message);\n      setTimeout(() => {\n        setError(\"\");\n      }, 5000); //POWER OF ASYNCHRONOUS EVERYTHING CONTINUES IT RETURNS AND JS REMEMBESR OH I NEED TO EXECUTE THAT\n\n      throw new Error(err.message);\n    }\n  }, []);\n  return [loading, error, done, sendRequest];\n}\n\n_s(useHttp, \"QUwz6p6ojynse7LQjdHhJ5C0ng0=\");","map":{"version":3,"names":["React","useCallback","useState","useHttp","loading","setLoading","error","setError","done","setDone","sendRequest","url","method","headers","body","resData","res","fetch","JSON","stringify","json","ok","Error","message","err","setTimeout"],"sources":["C:/Barter/frontend/src/shared/hooks/useHttp.js"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\r\n\r\nexport default function useHttp() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(\"\");\r\n  const [done, setDone] = useState(false);\r\n\r\n  const sendRequest = useCallback(\r\n    async (\r\n      url,\r\n      method = \"GET\",\r\n      headers = { \"Content-Type\": \"application/json\" },\r\n      body = null\r\n    ) => {\r\n      setLoading(true);\r\n\r\n      let resData;\r\n      try {\r\n        const res = await fetch(url, {\r\n          method,\r\n          headers,\r\n          body: JSON.stringify(body),\r\n        });\r\n\r\n        resData = await res.json();\r\n\r\n        setLoading(false);\r\n\r\n        if (!res.ok) {\r\n          throw new Error(resData.message);\r\n        }\r\n\r\n        setDone(true);\r\n\r\n        return resData;\r\n      } catch (err) {\r\n        setLoading(false);\r\n        setError(err.message);\r\n\r\n        setTimeout(() => {\r\n          setError(\"\");\r\n        }, 5000); //POWER OF ASYNCHRONOUS EVERYTHING CONTINUES IT RETURNS AND JS REMEMBESR OH I NEED TO EXECUTE THAT\r\n\r\n        throw new Error(err.message);\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  return [loading, error, done, sendRequest];\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,QAA6C,OAA7C;AAEA,eAAe,SAASC,OAAT,GAAmB;EAAA;;EAChC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBH,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,EAAD,CAAlC;EACA,MAAM,CAACM,IAAD,EAAOC,OAAP,IAAkBP,QAAQ,CAAC,KAAD,CAAhC;EAEA,MAAMQ,WAAW,GAAGT,WAAW,CAC7B,gBACEU,GADF,EAKK;IAAA,IAHHC,MAGG,uEAHM,KAGN;IAAA,IAFHC,OAEG,uEAFO;MAAE,gBAAgB;IAAlB,CAEP;IAAA,IADHC,IACG,uEADI,IACJ;IACHT,UAAU,CAAC,IAAD,CAAV;IAEA,IAAIU,OAAJ;;IACA,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACN,GAAD,EAAM;QAC3BC,MAD2B;QAE3BC,OAF2B;QAG3BC,IAAI,EAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf;MAHqB,CAAN,CAAvB;MAMAC,OAAO,GAAG,MAAMC,GAAG,CAACI,IAAJ,EAAhB;MAEAf,UAAU,CAAC,KAAD,CAAV;;MAEA,IAAI,CAACW,GAAG,CAACK,EAAT,EAAa;QACX,MAAM,IAAIC,KAAJ,CAAUP,OAAO,CAACQ,OAAlB,CAAN;MACD;;MAEDd,OAAO,CAAC,IAAD,CAAP;MAEA,OAAOM,OAAP;IACD,CAlBD,CAkBE,OAAOS,GAAP,EAAY;MACZnB,UAAU,CAAC,KAAD,CAAV;MACAE,QAAQ,CAACiB,GAAG,CAACD,OAAL,CAAR;MAEAE,UAAU,CAAC,MAAM;QACflB,QAAQ,CAAC,EAAD,CAAR;MACD,CAFS,EAEP,IAFO,CAAV,CAJY,CAMF;;MAEV,MAAM,IAAIe,KAAJ,CAAUE,GAAG,CAACD,OAAd,CAAN;IACD;EACF,CAtC4B,EAuC7B,EAvC6B,CAA/B;EA0CA,OAAO,CAACnB,OAAD,EAAUE,KAAV,EAAiBE,IAAjB,EAAuBE,WAAvB,CAAP;AACD;;GAhDuBP,O"},"metadata":{},"sourceType":"module"}