{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport React, { useCallback, useState } from \"react\";\nexport default function useHttp() {\n  _s();\n\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const sendRequest = useCallback(async function (url) {\n    let method = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : \"GET\";\n    let headers = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {\n      \"Content-Type\": \"application/json\"\n    };\n    let body = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : null;\n    setLoading(true);\n    let resData;\n\n    try {\n      const res = await fetch(url, {\n        method,\n        headers,\n        body: JSON.stringify(body)\n      });\n      resData = await res.json();\n\n      if (!res.ok) {\n        throw new Error(\"Staus code is not ok\");\n      }\n    } catch (err) {\n      setError(true);\n      setLoading(false);\n      throw new Error(err.message);\n    }\n\n    return resData;\n  }, []);\n  return [loading, error, sendRequest];\n}\n\n_s(useHttp, \"Rc7GXy36fcVOwNa2Ykmd9JaO/xk=\");","map":{"version":3,"names":["React","useCallback","useState","useHttp","loading","setLoading","error","setError","sendRequest","url","method","headers","body","resData","res","fetch","JSON","stringify","json","ok","Error","err","message"],"sources":["C:/Barter/frontend/src/shared/hooks/useHttp.js"],"sourcesContent":["import React, { useCallback, useState } from \"react\";\r\n\r\nexport default function useHttp() {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n\r\n  const sendRequest = useCallback(\r\n    async (\r\n      url,\r\n      method = \"GET\",\r\n      headers = { \"Content-Type\": \"application/json\" },\r\n      body = null\r\n    ) => {\r\n      setLoading(true);\r\n\r\n      let resData;\r\n      try {\r\n        const res = await fetch(url, {\r\n          method,\r\n          headers,\r\n          body: JSON.stringify(body),\r\n        });\r\n\r\n        resData = await res.json();\r\n        \r\n        if (!res.ok) {\r\n          throw new Error(\"Staus code is not ok\");\r\n        }\r\n      } catch (err) {\r\n        setError(true);\r\n        setLoading(false);\r\n        throw new Error(err.message);\r\n     \r\n\r\n      }\r\n\r\n  \r\n\r\n      return resData;\r\n    },\r\n    []\r\n  );\r\n\r\n\r\n  return [loading,error,sendRequest];\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAP,IAAgBC,WAAhB,EAA6BC,QAA7B,QAA6C,OAA7C;AAEA,eAAe,SAASC,OAAT,GAAmB;EAAA;;EAChC,MAAM,CAACC,OAAD,EAAUC,UAAV,IAAwBH,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACI,KAAD,EAAQC,QAAR,IAAoBL,QAAQ,CAAC,KAAD,CAAlC;EAEA,MAAMM,WAAW,GAAGP,WAAW,CAC7B,gBACEQ,GADF,EAKK;IAAA,IAHHC,MAGG,uEAHM,KAGN;IAAA,IAFHC,OAEG,uEAFO;MAAE,gBAAgB;IAAlB,CAEP;IAAA,IADHC,IACG,uEADI,IACJ;IACHP,UAAU,CAAC,IAAD,CAAV;IAEA,IAAIQ,OAAJ;;IACA,IAAI;MACF,MAAMC,GAAG,GAAG,MAAMC,KAAK,CAACN,GAAD,EAAM;QAC3BC,MAD2B;QAE3BC,OAF2B;QAG3BC,IAAI,EAAEI,IAAI,CAACC,SAAL,CAAeL,IAAf;MAHqB,CAAN,CAAvB;MAMAC,OAAO,GAAG,MAAMC,GAAG,CAACI,IAAJ,EAAhB;;MAEA,IAAI,CAACJ,GAAG,CAACK,EAAT,EAAa;QACX,MAAM,IAAIC,KAAJ,CAAU,sBAAV,CAAN;MACD;IACF,CAZD,CAYE,OAAOC,GAAP,EAAY;MACZd,QAAQ,CAAC,IAAD,CAAR;MACAF,UAAU,CAAC,KAAD,CAAV;MACA,MAAM,IAAIe,KAAJ,CAAUC,GAAG,CAACC,OAAd,CAAN;IAGD;;IAID,OAAOT,OAAP;EACD,CAjC4B,EAkC7B,EAlC6B,CAA/B;EAsCA,OAAO,CAACT,OAAD,EAASE,KAAT,EAAeE,WAAf,CAAP;AACD;;GA3CuBL,O"},"metadata":{},"sourceType":"module"}